flowchart TD
    subgraph MainWorkflow ["ğŸ”„ Main Workflow Graph"]
        ENTRY_ROUTER("ğŸ“ ENTRY<br/>ROUTER"):::router --> JD_PARSER("ğŸ“„ Job Description<br/>Parser"):::processor
        ENTRY_ROUTER --> SUPERVISOR

        JD_PARSER --> CV_PARSER("ğŸ“‹ CV Parser"):::processor
        CV_PARSER --> RESEARCH("ğŸ” Research<br/>Engine"):::processor
        RESEARCH --> CV_ANALYZER("ğŸ“Š CV Analyzer"):::processor
        CV_ANALYZER --> SUPERVISOR{"ğŸ¯ Supervisor<br/>Router"}:::router

        subgraph ContentLoop ["ğŸ“ Content Generation Pipeline"]
            KEY_QUALIFICATIONS_SUBGRAPH("ğŸŒŸ Key Qualifications<br/>Generator"):::subgraphNode
            PROFESSIONAL_EXPERIENCE_SUBGRAPH("ğŸ’¼ Experience<br/>Generator"):::subgraphNode
            PROJECTS_SUBGRAPH("ğŸš€ Projects<br/>Generator"):::subgraphNode
            EXECUTIVE_SUMMARY_SUBGRAPH("ğŸ“œ Summary<br/>Generator"):::subgraphNode
        end

        SUPERVISOR -->|"âš¡ Route"| KEY_QUALIFICATIONS_SUBGRAPH
        KEY_QUALIFICATIONS_SUBGRAPH -->|"âœ… Ready"| SUPERVISOR

        SUPERVISOR -->|"âš¡ Route"| PROFESSIONAL_EXPERIENCE_SUBGRAPH
        PROFESSIONAL_EXPERIENCE_SUBGRAPH -->|"âœ… Ready"| SUPERVISOR

        SUPERVISOR -->|"âš¡ Route"| PROJECTS_SUBGRAPH
        PROJECTS_SUBGRAPH -->|"âœ… Ready"| SUPERVISOR

        SUPERVISOR -->|"âš¡ Route"| EXECUTIVE_SUMMARY_SUBGRAPH
        EXECUTIVE_SUMMARY_SUBGRAPH -->|"âœ… Ready"| SUPERVISOR

        SUPERVISOR -->|"ğŸ Complete"| FORMATTER("ğŸ“‘ Final CV<br/>Formatter"):::formatter
        FORMATTER --> END_NODE([ğŸ‰ SUCCESS]):::success

        SUPERVISOR -->|"âŒ Error"| ERROR_HANDLER("âš ï¸ Error Handler"):::error
        ERROR_HANDLER --> END_ERROR([ğŸ’¥ ERROR]):::failure
    end

    subgraph RepresentativeSubgraph ["âš™ï¸ Section Generation Process"]
        subgraph_entry([ğŸš€ START]):::success --> GENERATE("âœï¸ Content Writer<br/>Agent"):::agent
        GENERATE --> QA("ğŸ” Quality Assurance<br/>Agent"):::agent
        QA --> HANDLE_FEEDBACK{"ğŸ¤” Feedback<br/>Handler"}:::router

        HANDLE_FEEDBACK -->|"ğŸ”„ Regenerate"| GENERATE
        HANDLE_FEEDBACK -->|"ğŸ‘ Approve"| MARK_COMPLETION("âœ… Mark as<br/>Complete"):::processor
        HANDLE_FEEDBACK -->|"âŒ Error"| subgraph_end_error([ğŸ’¥ ERROR]):::failure

        MARK_COMPLETION --> subgraph_end_ok([ğŸ¯ COMPLETE]):::success
    end

    classDef router fill:#4A90E2,stroke:#2E5C8A,stroke-width:3px,color:#ffffff,font-weight:bold
    classDef processor fill:#7ED321,stroke:#5BA816,stroke-width:2px,color:#ffffff,font-weight:bold
    classDef subgraphNode fill:#F5A623,stroke:#D1890B,stroke-width:2px,color:#ffffff,font-weight:bold
    classDef agent fill:#9013FE,stroke:#6A0DAD,stroke-width:2px,color:#ffffff,font-weight:bold
    classDef formatter fill:#FF6B6B,stroke:#E55A5A,stroke-width:2px,color:#ffffff,font-weight:bold
    classDef success fill:#50E3C2,stroke:#3AC9A6,stroke-width:3px,color:#ffffff,font-weight:bold
    classDef failure fill:#FF4757,stroke:#FF3742,stroke-width:3px,color:#ffffff,font-weight:bold
    classDef error fill:#FFA502,stroke:#FF8C00,stroke-width:2px,color:#ffffff,font-weight:bold
